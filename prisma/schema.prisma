// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum Frequency { 
  DAILY
  WEEKLY
  CUSTOM
}

model User {
  id           Int     @id @default(autoincrement())
  name         String
  email        String @unique
  password     String
  username     String @unique
  refreshToken String
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  habits       Habit[]
}

model Habit {
  id            Int       @id @default(autoincrement())
  title         String
  description   String
  goal          String
  frequency     Frequency
  duration      Int
  reminderTime  String         // Stored as string "HH:MM" (e.g., "08:30")
  timeZone      String         // IANA string (e.g., "Asia/Kolkata")
  startDate     DateTime
  endDate       DateTime
  personality   String
  emailStyle    String
  languageStyle String
  includeQuote  Boolean
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  userId        Int
  user          User      @relation(fields: [userId], references: [id])
}

//An IANA time zone string is the international standard way to identify a specific time zone in code. It acts like a "unique ID card" for every region's time rules.//
//It is a standardized code (like "Asia/Kolkata") representing a specific location's time rules. Unlike fixed numbers (like UTC+5), this string automatically adjusts for Daylight Saving Time. It ensures your app sends reminders at the correct local time year-round, without you ever needing to calculate clock changes manually.//
